{"version":3,"file":"static/js/569.c16f22ff.chunk.js","mappings":"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","sources":["assets/svg/icon-arrow-left.jsx","assets/svg/icon-arrow-right.jsx","base-ui/indicator/style.js","base-ui/indicator/index.jsx","components/room-item/style.js","components/room-item/index.jsx","views/entire/entire-filter/style.js","views/entire/entire-filter/index.jsx","views/entire/entire-rooms/style.js","views/entire/entire-rooms/index.jsx","views/entire/entire-pagination/style.js","services/modules/entire.js","store/modules/entire/actionCreators.js","views/entire/entire-pagination/index.jsx","views/entire/style.js","views/entire/index.jsx"],"sourcesContent":["import React, { memo } from 'react';\nimport styleStrToObj from './utils';\n\nconst IconArrowLeft = memo((props) => {\n  const { width = 12, height = 12 } = props;\n\n  return (\n    <svg viewBox=\"0 0 18 18\" role=\"img\" aria-hidden=\"false\" aria-label=\"previous\" focusable=\"false\" style={styleStrToObj(`height: ${height}px; width: ${width}px; display: block; fill: currentcolor;`)}><path d=\"m13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z\" fillRule=\"evenodd\" /></svg>\n  );\n});\n\nexport default IconArrowLeft;\n","import React, { memo } from 'react';\nimport styleStrToObj from './utils';\n\nconst IconArrowRight = memo((props) => {\n  const { width = 12, height = 12 } = props;\n\n  return (\n    <svg viewBox=\"0 0 18 18\" role=\"img\" aria-hidden=\"false\" aria-label=\"next\" focusable=\"false\" style={styleStrToObj(`height: ${height}px; width: ${width}px; display: block; fill: currentcolor;`)}><path d=\"m4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z\" fillRule=\"evenodd\" /></svg>\n  );\n});\n\nexport default IconArrowRight;\n","import styled from 'styled-components';\n\nexport const IndicatorWrapper = styled.div`\n  overflow: hidden;\n\n  .i-content {\n    display: flex;\n    position: relative;\n    transition: transform 200ms ease;\n\n    > * {\n      flex-shrink: 0;\n    }\n  }\n`;\n","import PropTypes from 'prop-types';\nimport React, { memo, useEffect, useRef } from 'react';\n\nimport { IndicatorWrapper } from '@/base-ui/indicator/style';\n\nconst Indicator = memo((props) => {\n  const { selectIndex = 0 } = props;\n  const contentRef = useRef();\n\n  useEffect(() => {\n    // 1. 获取selectIndex 对应的 item\n    const selectItemEl = contentRef.current.children[selectIndex];\n    const itemLeft = selectItemEl.offsetLeft;\n    const itemWidth = selectItemEl.clientWidth;\n\n    // 2，content 的宽度\n    const contentWidth = contentRef.current.clientWidth;\n    const contentScroll = contentRef.current.scrollWidth;\n\n    // 获取 selectIndex 要滚动的距离\n    let distance = itemLeft + itemWidth * 0.5 - contentWidth * 0.5;\n\n    // 4. 特殊情况处理\n    if (distance < 0) distance = 0; // 左边特殊情况处理\n\n    const totalDistance = contentScroll - contentWidth;\n    if (distance > totalDistance) distance = totalDistance; // 右边特殊情况处理\n\n    // 5. 改变位置\n    contentRef.current.style.transform = `translate(${-distance}px)`;\n  }, [selectIndex]);\n  return (\n    <IndicatorWrapper>\n      <div className=\"i-content\" ref={contentRef}>\n        {props.children}\n      </div>\n    </IndicatorWrapper>\n  );\n});\n\nIndicator.propTypes = {\n  selectIndex: PropTypes.number,\n};\n\nexport default Indicator;\n","import styled from 'styled-components';\n\nexport const ItemWrapper = styled.div`\n  flex-shrink: 0;\n  box-sizing: border-box;\n  width: ${(props) => props.itemWidth};\n  padding: 8px;\n\n  .inner {\n    width: 100%;\n  }\n\n  .cover {\n    position: relative;\n    box-sizing: border-box;\n    padding: 66.66% 8px 0;\n    border-radius: 3px;\n    overflow: hidden;\n\n    > img {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n  }\n\n  .slider {\n    position: relative;\n    cursor: pointer;\n\n    &:hover {\n      .control {\n        display: flex;\n      }\n    }\n\n    .control {\n      position: absolute;\n      display: none;\n      z-index: 1;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      justify-content: space-between;\n      color: #fff;\n\n      .btn {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 83px;\n        height: 100%;\n        background: linear-gradient(to left, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\n\n        &.right {\n          background: linear-gradient(to right, transparent 0%, rgba(0, 0, 0, 0.25) 100%);\n        }\n      }\n    }\n\n    .indicator {\n      position: absolute;\n      z-index: 9;\n      bottom: 10px;\n      left: 0;\n      right: 0;\n      width: 30%;\n      margin: 0 auto;\n\n      .item {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 14.29%;\n\n        .dot {\n          width: 6px;\n          height: 6px;\n          background-color: #fff;\n          border-radius: 50%;\n\n          &.active {\n            width: 8px;\n            height: 8px;\n          }\n        }\n      }\n    }\n  }\n\n  .desc {\n    margin: 10px 0 5px;\n    font-size: 12px;\n    font-weight: 500;\n    color: ${(props) => props.verifyColor};\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .name {\n    font-size: 16px;\n    font-weight: 600;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .price {\n    margin: 8px 0;\n  }\n\n  .bottom {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    font-weight: 600;\n    color: ${(props) => props.theme.color.textColor};\n\n    .count {\n      margin: 0 2px 0 4px;\n    }\n\n    .MuiRating-decimal {\n      margin-right: -3px;\n    }\n  }\n}\n`;\n","import PropTypes from 'prop-types';\nimport React, { memo, useRef, useState } from 'react';\nimport { Carousel } from 'antd';\nimport { Rating } from '@mui/material';\n\nimport classNames from 'classnames';\nimport { ItemWrapper } from './style';\nimport IconArrowLeft from '@/assets/svg/icon-arrow-left';\nimport IconArrowRight from '@/assets/svg/icon-arrow-right';\nimport Indicator from '@/base-ui/indicator';\n\nconst RoomItem = memo((props) => {\n  const { itemData, itemWidth = '25%', itemClick } = props;\n  const [selectIndex, setSelectIndex] = useState(0);\n  const sliderRef = useRef();\n\n  // 事件处理\n  function controlClickHandle(isNext = true, event) {\n    // 上一个面板/下一个面板\n    isNext ? sliderRef.current.next() : sliderRef.current.prev();\n\n    // 最新的索引\n    let newIndex = isNext ? selectIndex + 1 : selectIndex - 1;\n    const { length } = itemData.picture_urls;\n    if (newIndex < 0) newIndex = length - 1;\n    if (newIndex > length - 1) newIndex = 0;\n    setSelectIndex(newIndex);\n\n    // 阻止事件冒泡\n    event.stopPropagation();\n  }\n\n  function itemClickHandle() {\n    if (itemClick) itemClick(itemData);\n  }\n\n  // 子元素\n  const pictureElement = (\n    <div className=\"cover\">\n      <img src={itemData.picture_url} alt=\"\" />\n    </div>\n  );\n\n  const sliderElement = (\n    <div className=\"slider\">\n      <div className=\"control\">\n        <div className=\"btn left\" onClick={(e) => controlClickHandle(false, e)}>\n          <IconArrowLeft width=\"30\" height=\"30\" />\n        </div>\n        <div className=\"btn right\" onClick={(e) => controlClickHandle(true, e)}>\n          <IconArrowRight width=\"30\" height=\"30\" />\n        </div>\n      </div>\n      <div className=\"indicator\">\n        <Indicator selectIndex={selectIndex}>\n          {\n            itemData?.picture_urls?.map((item, index) => (\n              <div className=\"item\" key={item}>\n                <span className={classNames('dot', { active: selectIndex === index })} />\n              </div>\n            ))\n          }\n        </Indicator>\n      </div>\n      <Carousel dots={false} ref={sliderRef}>\n        {\n          itemData?.picture_urls?.map((item) => (\n            <div className=\"cover\" key={item}>\n              <img src={item} alt=\"\" />\n            </div>\n          ))\n        }\n      </Carousel>\n    </div>\n  );\n\n  return (\n    <ItemWrapper\n      verifyColor={itemData?.verify_info?.text_color || '#39576a'}\n      itemWidth={itemWidth}\n      onClick={itemClickHandle}\n    >\n      <div className=\"inner\">\n        {!itemData.picture_urls ? pictureElement : sliderElement}\n        <div className=\"desc\">\n          {itemData.verify_info.messages.join(' · ')}\n        </div>\n        <div className=\"name\">{itemData.name}</div>\n        <div className=\"price\">\n          ¥\n          {itemData.price}\n          /晚\n        </div>\n\n        <div className=\"bottom\">\n          <Rating\n            value={itemData.star_rating ?? 5}\n            precision={0.1}\n            readOnly\n            sx={{ fontSize: '12px', color: '#00848A', marginRight: '-1px' }}\n          />\n          <span className=\"count\">{itemData.reviews_count}</span>\n          {\n            itemData.bottom_info && (\n            <span className=\"extra\">\n              ·\n              {itemData.bottom_info?.content}\n            </span>\n            )\n          }\n        </div>\n      </div>\n    </ItemWrapper>\n  );\n});\n\nRoomItem.propTypes = {\n  itemData: PropTypes.object,\n};\n\nexport default RoomItem;\n","import styled from 'styled-components';\n\nexport const FilterWrapper = styled.div`\n  position: absolute;\n  z-index: 9;\n  top: 80px;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  height: 48px;\n  padding-left: 16px;\n  border-bottom: 1px solid #f2f2f2;\n  background-color: #fff;\n\n  .filter {\n    display: flex;\n\n    .item {\n      margin: 0 4px 0 8px;\n      padding: 6px 12px;\n      border: 1px solid #dce0e0;\n      border-radius: 4px;\n      color: #484848;\n      cursor: pointer;\n\n      &.active {\n        background: #008489;\n        border: 1px solid #008489;\n        color: #ffffff;\n      }\n    }\n  }\n`;\n","import React, { memo, useState } from 'react';\nimport classNames from 'classnames';\n\nimport filterData from '@/assets/data/filter_data.json';\nimport { FilterWrapper } from './style';\n\nconst EntireFilter = memo(() => {\n  const [selectItems, setSelectItems] = useState([]);\n\n  function itemClickHandle(item) {\n    const newItems = [...selectItems];\n    // 移除操作\n    if (newItems.includes(item)) {\n      const itemIndex = newItems.findIndex((filterItem) => filterItem === item);\n      newItems.splice(itemIndex, 1);\n    } else {\n      newItems.push(item);\n    }\n    setSelectItems(newItems);\n  }\n\n  return (\n    <FilterWrapper>\n      <div className=\"filter\">\n        {\n          filterData.map((item) => (\n            <div\n              className={classNames('item', { active: selectItems.includes(item) })}\n              key={item}\n              onClick={(e) => itemClickHandle(item)}\n            >\n              {item}\n            </div>\n          ))\n        }\n      </div>\n    </FilterWrapper>\n  );\n});\n\nexport default EntireFilter;\n","import styled from 'styled-components';\n\nexport const RoomsWrapper = styled.div`\n  position: relative;\n  padding: 30px 20px;\n\n  .title {\n    font-size: 22px;\n    font-weight: 700;\n    color: #222;\n    margin: 30px 0 10px 10px;\n  }\n\n  .list {\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  >.cover {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background-color: rgba(255, 255, 255, .8);\n  }\n`;\n","import React, { memo } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\n\nimport RoomItem from '@/components/room-item';\nimport { RoomsWrapper } from './style';\n\nconst EntireRooms = memo(() => {\n  // 从redux中获取roomList数据\n  const { roomList, totalCount, isLoading } = useSelector((state) => ({\n    roomList: state.entire.roomList,\n    totalCount: state.entire.totalCount,\n    isLoading: state.entire.isLoading,\n  }), shallowEqual);\n\n  return (\n    <RoomsWrapper>\n      <h2 className=\"title\">\n        {totalCount}\n        多处住所\n      </h2>\n      <div className=\"list\">\n        {\n          roomList.map((item) => (\n            <RoomItem\n              itemData={item}\n              itemWidth=\"20%\"\n              key={item._id}\n            />\n          ))\n        }\n      </div>\n      {isLoading && <div className=\"cover\" />}\n    </RoomsWrapper>\n\n  );\n});\n\nexport default EntireRooms;\n","import styled from 'styled-components';\n\nexport const PaginationWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n\n  .info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    .MuiPaginationItem-icon {\n      font-size: 24px;\n    }\n\n    .MuiPaginationItem-page {\n      margin: 0 9px;\n\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n\n    .MuiPaginationItem-page.Mui-selected {\n      background-color: #222;\n      color: #fff;\n    }\n\n    .desc {\n      margin-top: 16px;\n      color: #222;\n    }\n  }\n`;\n","import axiosRequst from '..';\n\nexport function getEntireRoomList(offset = 0, size = 20) {\n  return axiosRequst.get({\n    url: 'entire/list',\n    params: {\n      offset,\n      size,\n    },\n  });\n}\n","import * as actionTypes from './constants';\nimport { getEntireRoomList } from '@/services/modules/entire';\n\nexport const changeCurrentPageAction = (currentPage) => ({\n  type: actionTypes.CHANGE_CURRENT_PAGE,\n  currentPage,\n});\n\nexport const changeRoomListAction = (roomList) => ({\n  type: actionTypes.CHANGE_ROOM_LIST,\n  roomList,\n});\n\nexport const changeTotalCountAction = (totalCount) => ({\n  type: actionTypes.CHANGE_TOTAL_COUNT,\n  totalCount,\n});\n\nexport const changeIsLoadingAction = (isLoading) => ({\n  type: actionTypes.CHANGE_IS_LOADING,\n  isLoading,\n});\n\nexport const fetchRoomListAction = (page = 0) => async (dispatch, getState) => {\n  // 修改currentPage\n  dispatch(changeCurrentPageAction(page));\n\n  // 根据页码获取最新数据\n  const { currentPage } = getState().entire;\n  // 发送网络请求前 isLoading设为true\n  dispatch(changeIsLoadingAction(true));\n  const res = await getEntireRoomList(currentPage * 20);\n  // 获取结果后 isLoading设为false\n  dispatch(changeIsLoadingAction(false));\n\n  // 获取到最新的数据，保存到redux的store中\n  const roomList = res.list;\n  const { totalCount } = res;\n  dispatch(changeRoomListAction(roomList));\n  dispatch(changeTotalCountAction(totalCount));\n};\n","import React, { memo } from 'react';\nimport Pagination from '@mui/material/Pagination';\n\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { PaginationWrapper } from './style';\nimport { fetchRoomListAction } from '@/store/modules/entire/actionCreators';\n\nconst EntirePagination = memo(() => {\n  const { totalCount, currentPage, roomList } = useSelector((state) => ({\n    totalCount: state.entire.totalCount,\n    currentPage: state.entire.currentPage,\n    roomList: state.entire.roomList,\n  }), shallowEqual);\n\n  // 页码计算\n  const totalPage = Math.ceil(totalCount / 20);\n  const startCount = currentPage * 20 + 1;\n  const endCount = (currentPage + 1) * 20;\n\n  // 事件处理\n  const dispatch = useDispatch();\n  function pageChangeHandle(event, pageCount) {\n    // 回到顶部\n    window.scrollTo(0, 0);\n    // 更新最新的页码: redux => currentPage\n    dispatch(fetchRoomListAction(pageCount - 1));\n  }\n\n  return (\n    <PaginationWrapper>\n      {\n        !!roomList.length && (\n          <div className=\"info\">\n            <Pagination count={totalPage} onChange={pageChangeHandle} />\n            <div className=\"desc\">\n              第\n              {' '}\n              {startCount}\n              {' '}\n              -\n              {' '}\n              {endCount}\n              {' '}\n              个房源, 共超过\n              {' '}\n              {totalCount}\n              {' '}\n              个\n            </div>\n          </div>\n        )\n      }\n    </PaginationWrapper>\n  );\n});\n\nexport default EntirePagination;\n","import styled from 'styled-components';\n\nexport const EntireWrapper = styled.div`\n\n`;\n","import React, { memo, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport EntireFilter from '@/views/entire/entire-filter';\nimport EntireRooms from '@/views/entire/entire-rooms';\nimport EntirePagination from '@/views/entire/entire-pagination';\nimport { fetchRoomListAction } from '@/store/modules/entire/actionCreators';\nimport { EntireWrapper } from './style';\n\nconst Entire = memo((props) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchRoomListAction());\n  }, [dispatch]);\n\n  return (\n    <EntireWrapper>\n      <EntireFilter />\n      <EntireRooms />\n      <EntirePagination />\n    </EntireWrapper>\n  );\n});\n\nEntire.propTypes = {};\n\nexport default Entire;\n"],"names":["IconArrowLeft","memo","props","width","height","viewBox","role","focusable","style","styleStrToObj","d","fillRule","IconArrowRight","IndicatorWrapper","styled","selectIndex","contentRef","useRef","useEffect","selectItemEl","current","children","itemLeft","offsetLeft","itemWidth","clientWidth","contentWidth","distance","totalDistance","scrollWidth","transform","className","ref","ItemWrapper","verifyColor","theme","color","textColor","RoomItem","itemData","itemClick","useState","setSelectIndex","sliderRef","controlClickHandle","isNext","event","next","prev","newIndex","length","picture_urls","stopPropagation","pictureElement","src","picture_url","alt","sliderElement","onClick","e","map","item","index","classNames","active","dots","verify_info","text_color","messages","join","name","price","Rating","value","star_rating","precision","readOnly","sx","fontSize","marginRight","reviews_count","bottom_info","content","FilterWrapper","selectItems","setSelectItems","filterData","includes","newItems","itemIndex","findIndex","filterItem","splice","push","itemClickHandle","RoomsWrapper","useSelector","state","roomList","entire","totalCount","isLoading","shallowEqual","_id","PaginationWrapper","getEntireRoomList","offset","size","axiosRequst","url","params","changeCurrentPageAction","currentPage","type","actionTypes","changeRoomListAction","changeTotalCountAction","changeIsLoadingAction","fetchRoomListAction","page","dispatch","getState","res","list","totalPage","Math","ceil","startCount","endCount","useDispatch","Pagination","count","onChange","pageCount","window","scrollTo","EntireWrapper"],"sourceRoot":""}